# ATArchive 프로젝트 개발환경 설정 가이드

- **ATArchive 주식정보 아카이브 시스템**
  - ATArchive Overseas (해외주식정보 아카이브 시스템) : 국내주식정보와 동일
  - ATArchive Domestic (국내주식정보 아카이브 시스템)

---

## 목차
1. [개요](#1-개요)
2. [사전 준비 사항](#2-사전-준비-사항)
3. [개발 도구 설치](#3-개발-도구-설치)
4. [환경 변수 및 경로 설정](#4-환경-변수-및-경로-설정)
5. [의존성 설치](#5-의존성-설치)
6. [프로젝트 실행](#6-프로젝트-실행)
7. [디버깅 및 문제 해결](#7-디버깅-및-문제-해결)
8. [추가 설정](#8-추가-설정)

## 1. 개요

### 가이드 목적
- 이 가이드는 국내주식정보 아카이브 시스템(ATArchive Domestic)의 개발환경을 설정하는 방법을 단계별로 안내합니다.
- 프로젝트의 설치부터 실행, 문제 해결까지 모든 과정을 포함합니다.

### 대상 독자
- 신규 개발자: 프로젝트에 참여하는 개발자
- 운영 담당자: 시스템 배포 및 관리를 담당하는 인력

### 프로젝트 개요
- **프로젝트명**: ATArchive Domestic (국내주식정보 아카이브 시스템)
- **사용 언어/프레임워크**: 
  - TypeScript 5.8.3
  - Next.js 15.4.5 (App Router)
  - Prisma 6.13.0
  - React 18.3.1
  - Tailwind CSS 3.4.0
- **주요 목적**: 국내 주식 정보를 체계적으로 수집, 저장, 관리할 수 있는 종합 아카이브 시스템
- **개발 대상 플랫폼**: 웹 플랫폼 (데스크톱, 태블릿, 모바일 대응)

### 필수 요구사항
- Node.js 18.0.0 이상
- npm 9.0.0 이상
- Git
- 인터넷 연결 (의존성 패키지 다운로드)

## 2. 사전 준비 사항

### 하드웨어 사양
- **최소 사양**:
  - CPU: 듀얼 코어 1.6GHz 이상
  - RAM: 4GB 이상
  - 저장공간: 1GB 이상 (의존성 패키지 설치 공간 포함)
- **권장 사양**:
  - CPU: 쿼드 코어 2.4GHz 이상
  - RAM: 8GB 이상
  - 저장공간: 4GB 이상

### OS 및 필수 패키지
- **지원 OS**:
  - Windows 10 이상
  - macOS 10.15 이상
  - Ubuntu 18.04 이상 (또는 기타 주요 Linux 배포판)
- **필수 패키지**:
  - Node.js 18.0.0 이상
  - npm 9.0.0 이상
  - Git

## 3. 개발 도구 설치

### Node.js & npm 설치
1. [Node.js 공식 웹사이트](https://nodejs.org/)에서 LTS 버전(18.x 이상) 다운로드
2. 설치 파일 실행 및 지시에 따라 설치 진행
3. 설치 완료 후 버전 확인:

```
node -v
npm -v
```

### Git 설치
1. [Git 공식 웹사이트](https://git-scm.com/downloads)에서 OS에 맞는 버전 다운로드
2. 설치 파일 실행 및 기본 옵션으로 설치 진행
3. 설치 완료 후 버전 확인:

```
git --version
```

### IDE 설치 (권장: Visual Studio Code)
1. [Visual Studio Code 공식 웹사이트](https://code.visualstudio.com/)에서 다운로드
2. 설치 파일 실행 및 지시에 따라 설치 진행
3. 권장 확장 프로그램 설치:
   - Prisma (prisma.prisma)
   - Tailwind CSS IntelliSense
   - ESLint
   - Prettier - Code formatter
   - TypeScript and JavaScript Language Features

[스크린샷: VS Code 다운로드 페이지]

## 4. 환경 변수 및 경로 설정

### Windows 환경 변수 설정
1. `제어판` > `시스템 및 보안` > `시스템` > `고급 시스템 설정` > `환경 변수` 클릭
2. `사용자 변수` 또는 `시스템 변수` 섹션에서 `Path` 변수 선택 후 `편집` 클릭
3. `새로 만들기` 클릭하여 Node.js 및 Git 설치 경로 추가
4. `확인` 클릭하여 저장

### macOS/Linux 환경 변수 설정
1. 터미널 열기
2. 아래 명령어를 실행하여 프로필 파일 열기:

```
nano ~/.bash_profile  # Bash를 사용하는 경우
nano ~/.zshrc         # Zsh를 사용하는 경우
```

3. 파일 하단에 다음 내용 추가:

```
export PATH="$PATH:/usr/local/bin/node"
export PATH="$PATH:/usr/local/bin/git"
```

4. `Ctrl+O`를 눌러 저장 후 `Ctrl+X`를 눌러 종료
5. 변경사항 적용을 위해 다음 명령어 실행:

```
source ~/.bash_profile  # Bash를 사용하는 경우
source ~/.zshrc         # Zsh를 사용하는 경우
```

## 5. 의존성 설치

### 프로젝트 클론 및 다운로드
1. 터미널/명령 프롬프트 열기
2. 프로젝트를 저장할 디렉토리로 이동
3. 아래 명령어를 실행하여 저장소 클론:

```
git clone https://github.com/ATArchiveSystem/atarchive-domestic.git
cd atarchive-domestic
```

### 의존성 패키지 설치
1. 프로젝트 루트 디렉토리에서 아래 명령어 실행:

```
npm install
```

2. Prisma 클라이언트 생성:

```
npx prisma generate
```

### 환경 변수 설정
1. 프로젝트 루트에 `.env` 파일 생성
2. `.env` 파일을 텍스트 에디터로 열고 다음 내용 입력:

```
# 데이터베이스
DATABASE_URL="file:./dev.db"

# NextAuth.js
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="your-secret-key"

# 기타 설정
NODE_ENV="development"
```

## 6. 프로젝트 실행

### 데이터베이스 설정
1. 데이터베이스 마이그레이션 실행:

```
npx prisma migrate dev
```

2. 기본 관리자 계정 생성:

```
node scripts/create-default-admin.js
```

3. (선택사항) Prisma Studio 실행하여 데이터베이스 구조 확인:

```
npx prisma studio
```

### 개발 서버 실행
1. 아래 명령어를 실행하여 개발 서버 시작:

```
npm run dev
```

2. 브라우저에서 [http://localhost:3000](http://localhost:3000) 접속

### 로그인 정보
- **기본 관리자 계정**:
  - 이메일: `atarchive@analyticsfn.com`
  - 비밀번호: `Eatech12!@`

## 7. 디버깅 및 문제 해결

### 일반적인 문제와 해결 방법

#### 포트 충돌 문제
- **증상**: "Port 3000 is already in use" 에러 메시지
- **해결 방법**:
  1. 실행 중인 프로세스 확인:
     ```
     # Windows
     netstat -ano | findstr :3000
     
     # Mac/Linux
     lsof -i :3000
     ```
  2. 해당 프로세스 종료:
     ```
     # Windows
     taskkill /PID <프로세스ID> /F
     
     # Mac/Linux
     kill -9 <프로세스ID>
     ```

#### 데이터베이스 관련 문제
- **증상**: Prisma 관련 에러 발생
- **해결 방법**:
  1. 데이터베이스 재설정:
     ```
     npx prisma migrate reset
     ```
  2. Prisma 클라이언트 재생성:
     ```
     npx prisma generate
     ```

#### 의존성 패키지 문제
- **증상**: 모듈 not found 에러
- **해결 방법**:
  1. node_modules 삭제 후 재설치:
     ```
     rm -rf node_modules
     npm install
     ```

#### TypeScript 컴파일 오류
- **증상**: TypeScript 타입 에러
- **해결 방법**:
  1. 타입 체크 실행:
     ```
     npm run type-check
     ```
  2. 오류 수정 후 재시도

## 8. 추가 설정

### 코드 품질 관리 도구 사용
1. ESLint를 사용한 코드 품질 검사:

```
npm run lint
```

2. Prettier를 사용한 코드 포맷팅:

```
npm run format
```

### 프로덕션 빌드
1. 프로덕션용 빌드 생성:

```
npm run build
```

2. 프로덕션 서버 실행:

```
npm start
```

### 배포 환경 차이점
- **개발 환경**:
  - 개발용 SQLite 데이터베이스 사용
  - 실시간 코드 변경 감지 (Hot Module Replacement)
  - 디버깅 정보 제공
- **프로덕션 환경**:
  - AWS EC2 인스턴스에 배포
  - PM2 프로세스 관리자 사용
  - Nginx 리버스 프록시 설정
  - 성능 최적화 (번들 최적화, 코드 분할)

---

## 추가 참고 자료
- [Next.js 공식 문서](https://nextjs.org/docs)
- [Prisma 공식 문서](https://www.prisma.io/docs/)
- [React 공식 문서](https://reactjs.org/docs)
- [Tailwind CSS 공식 문서](https://tailwindcss.com/docs)

---

**작성자**: ATArchive 개발팀
**작성일**: 2025년 8월
**문서 버전**: 1.0

